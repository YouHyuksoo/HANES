-- SAMPLE_INSPECT_RESULTS 테이블 생성 DDL
-- 반제품 샘플검사 결과 (낱개단위 측정값 저장)

CREATE TABLE SAMPLE_INSPECT_RESULTS (
    ID              NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ORDER_NO        VARCHAR2(50)   NOT NULL,
    INSPECT_DATE    DATE           NOT NULL,
    INSPECTOR_NAME  VARCHAR2(100)  NOT NULL,
    INSPECT_TYPE    VARCHAR2(50),
    SAMPLE_NO       NUMBER         NOT NULL,
    MEASURED_VALUE  VARCHAR2(100),
    SPEC_UPPER      VARCHAR2(50),
    SPEC_LOWER      VARCHAR2(50),
    PASS_YN         VARCHAR2(1)    DEFAULT 'Y' NOT NULL,
    REMARK          VARCHAR2(500),
    COMPANY         VARCHAR2(255),
    PLANT_CD        VARCHAR2(255),
    CREATED_BY      VARCHAR2(255),
    UPDATED_BY      VARCHAR2(50),
    CREATED_AT      TIMESTAMP(6)   DEFAULT SYSTIMESTAMP NOT NULL,
    UPDATED_AT      TIMESTAMP(6)   DEFAULT SYSTIMESTAMP NOT NULL
);

CREATE INDEX IDX_SIR_ORDER_NO     ON SAMPLE_INSPECT_RESULTS (ORDER_NO);
CREATE INDEX IDX_SIR_INSPECT_DATE ON SAMPLE_INSPECT_RESULTS (INSPECT_DATE);
CREATE INDEX IDX_SIR_PASS_YN      ON SAMPLE_INSPECT_RESULTS (PASS_YN);

COMMENT ON TABLE  SAMPLE_INSPECT_RESULTS IS '반제품 샘플검사 결과';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.ORDER_NO       IS '작업지시번호 (JOB_ORDERS FK)';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.INSPECT_DATE   IS '검사일자';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.INSPECTOR_NAME IS '검사자명';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.INSPECT_TYPE   IS '검사유형';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.SAMPLE_NO      IS '샘플번호';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.MEASURED_VALUE  IS '측정값';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.SPEC_UPPER     IS '규격 상한';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.SPEC_LOWER     IS '규격 하한';
COMMENT ON COLUMN SAMPLE_INSPECT_RESULTS.PASS_YN        IS '합불 판정 (Y/N)';
